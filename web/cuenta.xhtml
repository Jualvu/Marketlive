<ui:composition template="/layouts/cliente_layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="main">

        <f:event type="preRenderView" listener="#{cuentaController.init}" />


        <p:growl id="messages" showDetail="true" />

        <div style="background: #7C93C3;  border-radius: 15px;">
            <h2 style="color: #fff; text-align: center; border: 1px solid; padding: 0.5rem; margin-bottom: 3rem;">Mi Cuenta</h2>
        </div>

        <div style="margin-bottom: 3rem;">
            <h3>Datos Personales</h3>
            <p:divider/>

            <h:form id="form_main">

                <p:growl id="messagesCuenta" showDetail="true" />

                <div id="dt-cuenta" style="display: flex; flex-wrap: wrap; justify-content: center;">
                    <div class="field" style="margin: 0.5rem;">
                        <p:outputLabel for="nombre">Nombre:</p:outputLabel>
                        <br/>
                        <p:inputText id="nombre" value="#{cuentaController.cuentaTO.nombre}" required="true" />
                    </div>
                    <div class="field" style="margin: 0.5rem;">
                        <p:outputLabel for="correo">Correo:</p:outputLabel>
                        <br/>
                        <p:inputText id="correo" value="#{cuentaController.cuentaTO.correo}" required="true" />
                    </div>

                    <div class="field" style="margin: 0.5rem;">

                        <h:panelGroup rendered="#{cuentaController.datoCompraTO.direccionEnvio != null}">
                            <p:outputLabel for="direccion">Direccion:</p:outputLabel>
                            <br/>
                            <p:inputTextarea id="direccion" value="#{cuentaController.cuentaTO.direccion}" rows="3" cols="33"/>
                        </h:panelGroup>

                    </div>

                    <div class="field" style="margin: 0.5rem;">
                        <p:outputLabel for="fecha">Fecha de creacion: </p:outputLabel>
                        <br/>
                        <p:inputText id="fecha" value="#{cuentaController.cuentaTO.fecha}" readonly="true" />
                    </div>
                </div>

                <div style="width: 100%; padding: 2rem;">
                    <p:commandButton value="Actualzar datos" actionListener="#{cuentaController.updateData()}" style="width: 100%"/>
                </div>

            </h:form>
        </div>

        <div style="margin-bottom: 3rem;">
            <h3>Cambiar Contrase単a</h3>
            <p:divider/>

            <h:form>
                <div id="password_update" style="display: flex; justify-content: center;">
                    <div class="field" style="margin: 0.5rem;">
                        <p:outputLabel for="nombre">Contrase単a:</p:outputLabel>
                        <br/>
                        <p:password id="nombre" value="#{cuentaController.cuentaTO.passsword}" required="true" />
                    </div>

                    <div class="field" style="margin: 0.5rem;">
                        <p:outputLabel for="correo">Confirmar Contrase単a:</p:outputLabel>
                        <br/>
                        <p:password id="correo" value="#{cuentaController.cuentaTO.confirmPassword}" required="true" />
                    </div>
                </div>

                <div style="width: 100%; padding: 2rem;">
                    <p:commandButton value="Cambiar contrase単a" actionListener="#{cuentaController.updatePassword()}" style="width: 100%"/>
                </div>


            </h:form>
        </div>


    </ui:define>
</ui:composition>

